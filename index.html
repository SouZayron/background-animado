<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>GIF Futurista</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%;
      overflow: hidden; background: #000;
    }

    /* fundo + brilho */
    body::before {
      content: "";
      position: fixed; inset: 0;
      background: radial-gradient(circle at center, rgba(255,0,0,0.1), transparent 70%),
                  linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.7));
      z-index: 1; pointer-events: none;
    }

    /* GIF central */
    .gif-wrap {
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 60vw; max-width: 1100px; aspect-ratio: 16/9;
      border-radius: 20px; overflow: hidden;
      transform-style: preserve-3d; will-change: transform;
      --rx: 0deg; --ry: 0deg; --tx: 0px;
      transform: translate(-50%, -50%) rotateX(var(--rx)) rotateY(var(--ry)) translateX(var(--tx));
      transition: transform 0.2s ease-out;
      z-index: 2;
    }
    .gif-wrap.swaying { animation: sway 3s ease-in-out infinite; }
    @keyframes sway { 0%{--tx:-6px} 50%{--tx:6px} 100%{--tx:-6px} }

    .gif-wrap img {
      width: 100%; height: 100%; object-fit: cover;
      display: block; pointer-events: none;
    }

    /* logo no rodapé */
    footer {
      position: fixed; bottom: 20px; left: 50%;
      transform: translateX(-50%);
      z-index: 3;
    }
    #logoBtn {
      background: transparent; border: none; cursor: pointer;
      width: 140px; height: auto; transition: transform 0.15s;
    }
    #logoBtn:active { transform: scale(0.95); }
    #logoBtn img { width: 100%; display: block; }

    /* canvas partículas */
    canvas#particles {
      position: fixed; inset: 0;
      width: 100%; height: 100%;
      z-index: 2; pointer-events: none;
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>

  <div class="gif-wrap" id="gifWrap">
    <img src="https://xatimg.com/image/epEK4CZvcecV.gif" alt="GIF">
  </div>

  <footer>
    <button id="logoBtn">
      <img src="https://xatimg.com/image/CEOwVQMbTHld.png" alt="Logo">
    </button>
  </footer>

  <script>
    /* ===== Tilt + sway ===== */
    (function(){
      const wrap = document.getElementById('gifWrap');
      let inside = false, timeout;

      function move(e) {
        const rect = wrap.getBoundingClientRect();
        const cx = rect.left + rect.width/2, cy = rect.top + rect.height/2;
        const x = (e.clientX - cx) / (rect.width/2);
        const y = (e.clientY - cy) / (rect.height/2);
        wrap.style.setProperty('--ry', (x*6)+'deg');
        wrap.style.setProperty('--rx', (-y*5)+'deg');
        if(!wrap.classList.contains('swaying')) wrap.classList.add('swaying');
        clearTimeout(timeout);
        timeout = setTimeout(()=>{ if(!inside) wrap.classList.remove('swaying'); }, 800);
      }

      wrap.addEventListener('mouseenter', ()=>{ inside=true; document.addEventListener('mousemove', move); });
      wrap.addEventListener('mouseleave', ()=>{ inside=false; document.removeEventListener('mousemove', move);
        wrap.style.setProperty('--rx','0deg'); wrap.style.setProperty('--ry','0deg');
        setTimeout(()=>{ if(!inside) wrap.classList.remove('swaying'); }, 600);
      });
    })();

    /* ===== Estrelas ===== */
    (function(){
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
      let W, H, DPR = window.devicePixelRatio||1;

      function resize() {
        W = window.innerWidth; H = window.innerHeight;
        canvas.width = W*DPR; canvas.height = H*DPR;
        ctx.setTransform(DPR,0,0,DPR,0,0);
      }
      resize(); window.addEventListener('resize', resize);

      function star(ctx,x,y,r,rot){
        ctx.save(); ctx.translate(x,y); ctx.rotate(rot);
        ctx.beginPath();
        for(let i=0;i<5;i++){
          ctx.lineTo(Math.cos((18+72*i)/180*Math.PI)*r, -Math.sin((18+72*i)/180*Math.PI)*r);
          ctx.lineTo(Math.cos((54+72*i)/180*Math.PI)*(r*0.5), -Math.sin((54+72*i)/180*Math.PI)*(r*0.5));
        }
        ctx.closePath(); ctx.fillStyle = 'gold'; ctx.fill(); ctx.restore();
      }

      let particles = [];
      function spawn(x,y){
        for(let i=0;i<28;i++){
          const speed = Math.random()*6+3, ang=Math.random()*2*Math.PI;
          particles.push({x,y,vx:Math.cos(ang)*speed,vy:Math.sin(ang)*speed,
            rot:Math.random()*6, vrot:(Math.random()-0.5)*0.2, life:60+Math.random()*60, age:0, size:6+Math.random()*10});
        }
      }

      function update(){
        for(let i=particles.length-1;i>=0;i--){
          const p=particles[i];
          p.x+=p.vx; p.y+=p.vy; p.vy+=0.2; p.rot+=p.vrot; p.age++;
          if(p.age>p.life) particles.splice(i,1);
        }
      }
      function draw(){
        ctx.clearRect(0,0,W,H);
        particles.forEach(p=>{ ctx.globalAlpha=1-p.age/p.life; star(ctx,p.x,p.y,p.size,p.rot); });
        ctx.globalAlpha=1;
      }
      (function loop(){ update(); draw(); requestAnimationFrame(loop); })();

      document.getElementById('logoBtn').addEventListener('click',e=>{
        spawn(e.clientX, e.clientY);
      });
    })();
  </script>
</body>
</html>
